<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Churn Prediction Analytics</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>

    <div class="dashboard">
        <!-- Control Panel (Left) -->
        <div class="card control-panel">
            <h1>Customer Profile</h1>
            <h2>Adjust metrics to simulate risk</h2>

            <div class="control-group">
                <label>Credit Score <span class="value-display" id="disp_credit_score">650</span></label>
                <input type="range" id="credit_score" min="300" max="850" value="650">
            </div>

            <div class="control-group">
                <label>Age <span class="value-display" id="disp_age">35</span></label>
                <input type="range" id="age" min="18" max="92" value="35">
            </div>

            <div class="control-group">
                <label>Tenure (Years) <span class="value-display" id="disp_tenure">5</span></label>
                <input type="range" id="tenure" min="0" max="10" value="5">
            </div>

            <div class="control-group">
                <label>Account Balance <span class="value-display" id="disp_balance">$50,000</span></label>
                <input type="range" id="balance" min="0" max="250000" step="1000" value="50000">
            </div>

            <div class="control-group">
                <label>Num of Products <span class="value-display" id="disp_products">1</span></label>
                <input type="range" id="products_number" min="1" max="4" value="1">
            </div>

            <div class="control-group">
                <label>Est. Salary <span class="value-display" id="disp_salary">$100,000</span></label>
                <input type="range" id="estimated_salary" min="10000" max="200000" step="5000" value="100000">
            </div>

            <div class="toggle-group">
                <button type="button" class="toggle-btn active" id="credit_card" data-value="1">Credit Card:
                    YES</button>
                <button type="button" class="toggle-btn active" id="active_member" data-value="1">Active Member:
                    YES</button>
            </div>

            <button id="predict-btn" class="predict-btn">Update Risk Analysis</button>
        </div>

        <!-- Analytics HUD (Right) -->
        <div class="card hud-container">
            <div class="gauge-wrapper">
                <div class="gauge-bg"></div>
                <!-- Rotates from -135deg to 45deg -->
                <div class="gauge-fill" id="gauge-fill"></div>
            </div>

            <div class="probability-text" id="prob-text">--%</div>
            <div class="risk-label" id="risk-label">Analyzing...</div>

            <div
                style="margin-top: 2rem; color: #94a3b8; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 1px;">
                Top Risk Factors
            </div>
            <div class="factors-list" id="factor-list">
                <!-- Chips injected by JS -->
            </div>

            <div class="history-link" style="margin-top: auto; padding-top: 2rem;">
                <a href="/monitoring" style="color: var(--accent); text-decoration: none;">View Drift Report &rarr;</a>
            </div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>

</html>